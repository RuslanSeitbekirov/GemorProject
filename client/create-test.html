-- Active: 1767865076857@@localhost@5438@postgres
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</title>
    <link rel="stylesheet" href="css/GENstyle.css">
    <style>
        .test-creator {
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .setup-card, .questions-editor {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-group textarea {
            height: 100px;
            resize: vertical;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn-primary {
            background: #4CAF50;
            color: white;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .question-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            padding: 15px;
            background: #e9ecef;
            border-radius: 8px;
        }
        
        .question-dots {
            display: flex;
            gap: 5px;
            justify-content: center;
            flex-grow: 1;
        }
        
        .question-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ccc;
            cursor: pointer;
        }
        
        .question-dot.active {
            background: #4CAF50;
        }
        
        .question-dot.saved {
            border: 2px solid #28a745;
        }
        
        .answer-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .answer-item input[type="checkbox"],
        .answer-item input[type="radio"] {
            width: auto;
        }
        
        .answer-text {
            flex-grow: 1;
        }
        
        .test-meta {
            display: flex;
            gap: 20px;
            margin: 10px 0;
            color: #666;
            font-size: 14px;
        }
        
        .test-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-small {
            padding: 5px 10px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
    <div class="topLine" id="header" style="display: none;">
        <div class="logo">
            –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
            <span id="statusIndicator" class="status-indicator"></span>
        </div>
        <div class="Profile">
            <a href="javascript:void(0)" onclick="showProfile()">
                <img src="img/Prof.jpg" alt="–ü—Ä–æ—Ñ–∏–ª—å" id="Profile_img">
                <span id="username"></span>
            </a>
            <div class="header-actions">
                <button onclick="window.location.href='index.html'" class="logout-btn">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                <button onclick="auth.handleLogout()" class="logout-btn">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="mainContent">
        <div class="test-creator">
            <h1>–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</h1>
            
            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–∞ -->
            <div id="testSetupCard" class="setup-card">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∞</h3>
                
                <div class="form-group">
                    <label for="testTitle">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞:</label>
                    <input type="text" id="testTitle" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞" required>
                </div>
                
                <div class="form-group">
                    <label for="testDescription">–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞:</label>
                    <textarea id="testDescription" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞"></textarea>
                </div>
                
                <div class="test-meta">
                    <div class="form-group">
                        <label for="questionsCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤:</label>
                        <input type="number" id="questionsCount" min="1" max="50" value="5">
                    </div>
                    
                    <div class="form-group">
                        <label for="answersCount">–í–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å:</label>
                        <input type="number" id="answersCount" min="2" max="6" value="4">
                    </div>
                    
                    <div class="form-group">
                        <label for="testTime">–í—Ä–µ–º—è –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–º–∏–Ω—É—Ç):</label>
                        <input type="number" id="testTime" min="0" value="30">
                        <small>0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏</small>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="setupContinueBtn" class="btn btn-primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üí</button>
                </div>
            </div>
            
            <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ -->
            <div id="questionsEditor" class="questions-editor" style="display: none;">
                <h3 id="currentTestTitle"></h3>
                <p id="questionsProgress"></p>
                
                <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º -->
                <div class="question-navigation">
                    <button id="prevQuestionBtn" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
                    
                    <div class="question-dots" id="questionDots"></div>
                    
                    <button id="nextQuestionBtn" class="btn btn-secondary">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                </div>
                
                <!-- –†–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ -->
                <div class="form-group">
                    <label for="questionText">–í–æ–ø—Ä–æ—Å <span id="currentQuestionNumber"></span>:</label>
                    <textarea id="questionText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>–¢–∏–ø –≤–æ–ø—Ä–æ—Å–∞:</label>
                    <div>
                        <label>
                            <input type="radio" name="questionType" value="single" checked>
                            –û–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                        </label>
                        <label style="margin-left: 20px;">
                            <input type="radio" name="questionType" value="multiple">
                            –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
                        </label>
                    </div>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ -->
                <div id="answersContainer">
                    <h5>–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ (–æ—Ç–º–µ—Ç—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ):</h5>
                </div>
                
                <div class="action-buttons">
                    <button id="addAnswerBtn" class="btn btn-secondary">+ –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç</button>
                    <button id="removeAnswerBtn" class="btn btn-danger">- –£–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç</button>
                </div>
                
                <div class="form-group">
                    <label for="questionExplanation">–ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫ –≤–æ–ø—Ä–æ—Å—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                    <textarea id="questionExplanation" placeholder="–ü–æ—è—Å–Ω–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —É–≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞"></textarea>
                </div>
                
                <div class="action-buttons">
                    <button id="saveQuestionBtn" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ–ø—Ä–æ—Å</button>
                    <button id="backToSetupBtn" class="btn btn-secondary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º</button>
                    <button id="finishTestBtn" class="btn btn-primary">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</button>
                </div>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ -->
            <div id="myTestsSection" style="margin-top: 40px;">
                <h3>–ú–æ–∏ —Ç–µ—Å—Ç—ã</h3>
                <div id="myTestsList">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞—à–∏—Ö —Ç–µ—Å—Ç–æ–≤...</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="js/sessionStore.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/testCreator.js"></script>
    
    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –ø—Ä–æ—Ñ–∏–ª—è
        function showProfile() {
            if (auth && auth.currentSession && auth.currentSession.userData) {
                const user = auth.currentSession.userData;
                let message = `üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n`;
                message += `–ò–º—è: ${user.name}\n`;
                message += `Email: ${user.email}\n`;
                message += `ID: ${user.id}\n`;
                message += `–ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${user.provider}\n`;
                message += `–°—Ç–∞—Ç—É—Å: ${auth.currentSession.status}`;
                
                alert(message);
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            if (auth && auth.currentSession && auth.currentSession.status === 'authorized') {
                document.getElementById('header').style.display = 'flex';
                auth.updateUserUI();
            } else {
                // –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                window.location.href = 'index.html';
            }
        });
    </script>
</body>
</html>