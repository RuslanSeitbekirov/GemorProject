<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ - –ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" href="css/GENstyle.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
    <div class="topLine" id="header" style="display: none;">
        <div class="logo">
            –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
            <span id="statusIndicator" class="status-indicator"></span>
        </div>
        <div class="Profile">
            <a href="javascript:void(0)" onclick="showProfile()">
                <img src="img/Prof.jpg" alt="–ü—Ä–æ—Ñ–∏–ª—å" id="Profile_img">
                <span id="username"></span>
            </a>
            <div class="header-actions">
                <button onclick="auth.handleLogout()" class="logout-btn">–í—ã–π—Ç–∏</button>
                <button onclick="auth.logout(true)" class="logout-btn" title="–í—ã–π—Ç–∏ —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤">
                    –í—ã–π—Ç–∏ –≤–µ–∑–¥–µ
                </button>
            </div>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="mainContent">
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞ -->
    </div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="js/sessionStore.js"></script>
    <script src="js/auth.js"></script>
    
    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –ø—Ä–æ—Ñ–∏–ª—è
        function showProfile() {
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            
            if (userData.username) {
                let message = `üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n`;
                message += `–ò–º—è: ${userData.username}\n`;
                message += `Email: ${userData.email}\n`;
                message += `ID: ${userData.id}\n`;
                message += `–°—Ç–∞—Ç—É—Å: ${userData.isAdmin ? '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' : '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}\n`;
                
                alert(message);
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Å—Å–∏—é
            if (auth) {
                auth.checkSession();
            }
        });
    </script>
</body>
</html>